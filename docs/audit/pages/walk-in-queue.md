# ЁЯФН р╕гр╕▓р╕вр╕Зр╕▓р╕Щр╕Бр╕▓р╕гр╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ: р╕гр╕░р╕Ър╕Ър╕Др╕┤р╕з Walk-in (Walk-in Queue)

**р╕кр╕Цр╕▓р╕Щр╕░**: тЬЕ р╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╣Др╕Фр╣Йр╕кр╕бр╕Ър╕╣р╕гр╕Ур╣М (Production Ready)
**р╕Ьр╕╣р╣Йр╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ**: Antigravity (AI Assistant)
**р╕зр╕▒р╕Щр╕Чр╕╡р╣Ир╕ер╣Ир╕▓р╕кр╕╕р╕Ф**: 24 р╕бр╕Бр╕гр╕▓р╕Др╕б 2026

---

## ЁЯПЧя╕П р╕ар╕▓р╕Юр╕гр╕зр╕б
р╕гр╕░р╕Ър╕Ър╕Др╕┤р╕з Walk-in р╕Цр╕╣р╕Бр╕нр╕нр╕Бр╣Бр╕Ър╕Ър╕бр╕▓р╣Ар╕Юр╕╖р╣Ир╕нр╕гр╕нр╕Зр╕гр╕▒р╕Ър╕ер╕╣р╕Бр╕Др╣Йр╕▓р╕Чр╕╡р╣Ир╕лр╕Щр╣Йр╕▓р╕гр╣Йр╕▓р╕Щр╣Вр╕Фр╕вр╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╕Ир╕нр╕Зр╕ер╣Ир╕зр╕Зр╕лр╕Щр╣Йр╕▓ р╕бр╕╡р╕Бр╕▓р╕гр╕Др╕│р╕Щр╕зр╕Ур╕ер╕│р╕Фр╕▒р╕Ър╕Др╕┤р╕зр╣Бр╕ер╕░р╣Ар╕зр╕ер╕▓р╕гр╕нр╣Бр╕Ър╕Ър╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤р╕Ьр╣Ир╕▓р╕Щ Database RPCs

---

## ЁЯУб р╕Бр╕▓р╕гр╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕н API р╣Бр╕ер╕░р╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е

| р╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щ / р╕кр╣Ир╕зр╕Щр╕Ыр╕гр╕░р╕Бр╕нр╕Ъ | р╕Ыр╕ер╕▓р╕вр╕Чр╕▓р╕З | р╕Ыр╕гр╕░р╣Ар╕ар╕Ч | р╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Ф | р╕кр╕Цр╕▓р╕Щр╕░р╕Др╕зр╕▓р╕бр╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕в |
| :--- | :--- | :--- | :--- | :--- |
| `rpc_join_walk_in_queue` | RPC Function | `EXECUTE` | [Customer] р╕Бр╕Фр╣Ар╕Вр╣Йр╕▓р╕Др╕┤р╕зр╕лр╕Щр╣Йр╕▓р╕гр╣Йр╕▓р╕Щ | **р╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕в**: р╕гр╕нр╕Зр╕гр╕▒р╕Ъ GUEST |
| `rpc_get_waiting_queue` | RPC Function | `EXECUTE` | [Staff] р╕Фр╕╢р╕Зр╕гр╕▓р╕вр╕Бр╕▓р╕гр╕Др╕┤р╕зр╕Чр╕╡р╣Ир╕гр╕нр╕нр╕вр╕╣р╣И | **р╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕в**: Mask р╣Ар╕Ър╕нр╕гр╣Мр╣Вр╕Чр╕г |
| `rpc_seat_queue_customer`| RPC Function | `EXECUTE` | [Staff] р╕Ир╕▒р╕Фр╕Чр╕╡р╣Ир╕Щр╕▒р╣Ир╕Зр╣Бр╕ер╕░р╣Ар╕гр╕┤р╣Ир╕бр╣Ар╕ер╣Ир╕Щ | **р╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕в**: р╣Ар╕Йр╕Юр╕▓р╕░р╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щ |
| `rpc_get_my_walk_in_queue`| RPC Function | `EXECUTE` | [Customer] р╕Фр╕╣р╕ер╕│р╕Фр╕▒р╕Ър╕Др╕┤р╕зр╕Хр╕▒р╕зр╣Ар╕нр╕З | **р╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕в**: р╕Бр╕гр╕нр╕Зр╕гр╕▓р╕вр╕Ър╕╕р╕Др╕Др╕е |

---

## ЁЯФТ р╕Ьр╕ер╕Бр╕▓р╕гр╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╣Бр╕ер╕░р╕Ыр╕гр╕░р╣Ар╕Фр╣Зр╕Щр╕Чр╕╡р╣Ир╕Юр╕Ъ

### 1. р╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е (Backend Infrastructure) тЬЕ
- **Phase 2 Migration**: р╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕бр╕╡р╕Бр╕▓р╕гр╕нр╕нр╕Бр╣Бр╕Ър╕Ър╣Гр╕лр╕бр╣Ир╕Чр╕╡р╣Ир╕кр╕бр╕Ър╕╣р╕гр╕Ур╣М (Table: `walk_in_queue`) р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕кр╕Цр╕▓р╕Щр╕░ `waiting`, `called`, `seated`, `cancelled`
- **Session Integration**: р╕гр╕░р╕Ър╕Ър╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕нр╕Бр╕▒р╕Ър╕Хр╕▓р╕гр╕▓р╕З `sessions` р╣Др╕Фр╣Йр╕нр╕вр╣Ир╕▓р╕Зр╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕Зр╕Ьр╣Ир╕▓р╕Щ `rpc_start_session`
- **Security Definitions**: р╕Чр╕╕р╕Б RPC р╕кр╕│р╕Др╕▒р╕Нр╕бр╕╡р╕Бр╕▓р╕гр╣Гр╕Кр╣Й `SECURITY DEFINER` р╣Бр╕ер╕░р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕кр╕┤р╕Чр╕Шр╕┤р╣Мр╕ар╕▓р╕вр╣Гр╕Щр╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щр╕нр╕вр╣Ир╕▓р╕Зр╕гр╕▒р╕Фр╕Бр╕╕р╕б

### 2. р╕кр╣Ир╕зр╕Щр╕Хр╕┤р╕Фр╕Хр╣Ир╕нр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ (UI/UX) тЬЕ (р╣Бр╕Бр╣Йр╣Др╕Вр╣Бр╕ер╣Йр╕з)
р╕бр╕╡р╕Бр╕▓р╕г Refactor р╣Гр╕лр╕бр╣Ир╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Фр╣Ар╕Юр╕╖р╣Ир╕нр╣Бр╕Бр╣Йр╕Ыр╕▒р╕Нр╕лр╕▓р╕Др╕зр╕▓р╕бр╕кр╕▒р╕Ър╕кр╕Щ:
- **Dedicated Page**: р╣Ар╕Юр╕┤р╣Ир╕бр╕лр╕Щр╣Йр╕▓ `/walk-in` р╕кр╕│р╕лр╕гр╕▒р╕Ър╕ер╕╣р╕Бр╕Др╣Йр╕▓ Walk-in р╣Вр╕Фр╕вр╣Ар╕Йр╕Юр╕▓р╕░
- **Data Protection**: р╣Бр╕вр╕Б State р╕Вр╕нр╕З Walk-in (`activeWalkIn`) р╕нр╕нр╕Бр╕Ир╕▓р╕Б Booking (`activeBookings`) р╣Ар╕Юр╕╖р╣Ир╕нр╕Ыр╣Йр╕нр╕Зр╕Бр╕▒р╕Щ Business Logic р╕Кр╕Щр╕Бр╕▒р╕Щ
- **Terminology**: р╣Бр╕Бр╣Йр╣Др╕Вр╕Др╕│р╕ир╕▒р╕Юр╕Чр╣Мр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Фр╣Гр╕лр╣Йр╣Ар╕Ыр╣Зр╕Щ "р╕ер╕│р╕Фр╕▒р╕Ър╕Др╕┤р╕з" р╣Бр╕Чр╕Щ "р╕Бр╕▓р╕гр╕Ир╕нр╕З"

### 3. р╕гр╕░р╕Ър╕Ър╣Бр╕нр╕Фр╕бр╕┤р╕Щ (Admin Dashboard) тЬЕ (р╣Бр╕Бр╣Йр╣Др╕Вр╣Бр╕ер╣Йр╕з)
- **Data Integrity**: р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Бр╕▓р╕гр╕Фр╕╢р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е р╕Юр╕Ър╕зр╣Ир╕▓р╕бр╕╡р╕Бр╕▓р╕гр╣Бр╕вр╕Б Walk-in Repository р╕нр╕нр╕Бр╕Ир╕▓р╕Б Booking Repository р╕нр╕вр╣Ир╕▓р╕Зр╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З
- **Display Correctness**: р╕Бр╕▓р╕гр╣Бр╕кр╕Фр╕Зр╕Ьр╕ер╣Гр╕Щ `QueuesTab` р╣Гр╕Кр╣Й field р╕Чр╕╡р╣Ир╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З (`joinedAt`) р╣Бр╕ер╕░р╣Др╕бр╣Ир╕Ыр╕░р╕Ыр╕Щр╕Бр╕▒р╕Ър╕гр╕▓р╕вр╕Бр╕▓р╕гр╕Ир╕нр╕Зр╣Гр╕Щ `DashboardTab`

---

## ЁЯТб р╕Ыр╕гр╕░р╕зр╕▒р╕Хр╕┤р╕Бр╕▓р╕гр╣Бр╕Бр╣Йр╣Др╕В (Resolution Log)
> [!NOTE]
> **24 р╕б.р╕Д. 2026**: р╕Юр╕Ъ "Critical Bug" р╕Чр╕╡р╣Ир╕гр╕░р╕Ър╕Ър╕Щр╕│ Walk-in р╣Др╕Ыр╕гр╕зр╕бр╕Бр╕▒р╕Ъ Booking р╕Чр╕│р╣Гр╕лр╣Йр╣Ар╕Бр╕┤р╕Ф Logic р╕Ьр╕┤р╕Фр╕Юр╕ер╕▓р╕Ф
>
> **р╕Бр╕▓р╕гр╣Бр╕Бр╣Йр╣Др╕В**:
> 1. р╕кр╕гр╣Йр╕▓р╕З `ActiveWalkInQueue` interface р╣Бр╕вр╕Бр╣Гр╕Щ `useCustomerStore`
> 2. р╕Ыр╕гр╕▒р╕Ър╕Ыр╕гр╕╕р╕З `useWalkInPresenter` р╣Гр╕лр╣Йр╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕ер╕З Store р╣Гр╕лр╕бр╣Ир╕Щр╕╡р╣Й
> 3. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕лр╕Щр╣Йр╕▓ Admin р╕зр╣Ир╕▓р╣Др╕бр╣Ир╕бр╕╡р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Кр╕Щр╕Бр╕▒р╕Щ

---
*р╕кр╕Цр╕▓р╕Щр╕░р╕Ыр╕▒р╕Ир╕Ир╕╕р╕Ър╕▒р╕Щ: р╕Юр╕гр╣Йр╕нр╕бр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ р╣Др╕бр╣Ир╕Юр╕Ър╕Ър╕▒р╕Др╕зр╕┤р╕Бр╕др╕Х (Critical Bugs) р╕лр╕ер╕Зр╣Ар╕лр╕ер╕╖р╕н*
